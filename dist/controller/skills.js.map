{"version":3,"sources":["../../src/controller/skills.js"],"names":["config","db","api","post","req","res","newSkill","name","body","coolness","skillLevel","src","flex","save","err","send","json","message","get","find","skills","findById","params","id","skill","put","delete","remove","_id"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;kBAGe,gBAAoB;AAAA,QAAjBA,MAAiB,QAAjBA,MAAiB;AAAA,QAATC,EAAS,QAATA,EAAS;;AAC/B,QAAIC,MAAM,sBAAV;;AAEAA,QAAIC,IAAJ,CAAS,MAAT,EAAiB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC3B,YAAIC,WAAU,qBAAd;AACAA,iBAASC,IAAT,GAAgBH,IAAII,IAAJ,CAASD,IAAzB;AACAD,iBAASG,QAAT,GAAoBL,IAAII,IAAJ,CAASC,QAA7B;AACAH,iBAASI,UAAT,GAAsBN,IAAII,IAAJ,CAASE,UAA/B;AACAJ,iBAASK,GAAT,GAAeP,IAAII,IAAJ,CAASG,GAAxB;AACAL,iBAASM,IAAT,GAAgBR,IAAII,IAAJ,CAASI,IAAzB;;AAEAN,iBAASO,IAAT,CAAc,eAAO;AACjB,gBAAIC,GAAJ,EAAS;AACLT,oBAAIU,IAAJ,CAASD,GAAT;AACH;AACDT,gBAAIW,IAAJ,CAAS,EAAEC,SAAS,yBAAX,EAAT;AACH,SALD;AAMH,KAdD;;AAgBAf,QAAIgB,GAAJ,CAAQ,GAAR,EAAa,UAACd,GAAD,EAAMC,GAAN,EAAc;AACvB,wBAAMc,IAAN,CAAW,EAAX,EAAe,UAACL,GAAD,EAAMM,MAAN,EAAiB;AAC5B,gBAAIN,GAAJ,EAAS;AACLT,oBAAIU,IAAJ,CAASD,GAAT;AACH;AACDT,gBAAIW,IAAJ,CAASI,MAAT;AACH,SALD;AAMH,KAPD;;AASAlB,QAAIgB,GAAJ,CAAQ,MAAR,EAAgB,UAACd,GAAD,EAAMC,GAAN,EAAc;AAC1B,wBAAMgB,QAAN,CAAejB,IAAIkB,MAAJ,CAAWC,EAA1B,EAA8B,UAACT,GAAD,EAAMU,KAAN,EAAgB;AAC1C,gBAAIV,GAAJ,EAAS;AACLT,oBAAIU,IAAJ,CAASD,GAAT;AACH;AACDT,gBAAIW,IAAJ,CAASQ,KAAT;AACH,SALD;AAMH,KAPD;;AASAtB,QAAIuB,GAAJ,CAAQ,MAAR,EAAgB,UAACrB,GAAD,EAAMC,GAAN,EAAc;AAC1B,wBAAMgB,QAAN,CAAejB,IAAIkB,MAAJ,CAAWC,EAA1B,EAA8B,UAACT,GAAD,EAAMU,KAAN,EAAgB;AAC1C,gBAAIV,GAAJ,EAAS;AACLT,oBAAIU,IAAJ,CAASD,GAAT;AACH;AACDU,kBAAMjB,IAAN,GAAaH,IAAII,IAAJ,CAASD,IAAtB;AACAiB,kBAAMX,IAAN,CAAW,eAAO;AACd,oBAAIC,GAAJ,EAAS;AACLT,wBAAIU,IAAJ,CAASD,GAAT;AACH;AACDT,oBAAIW,IAAJ,CAAS,EAAEC,SAAS,eAAX,EAAT;AACH,aALD;AAMH,SAXD;AAYH,KAbD;;AAeAf,QAAIwB,MAAJ,CAAW,MAAX,EAAmB,UAACtB,GAAD,EAAMC,GAAN,EAAc;AAC7B,wBAAMsB,MAAN,CAAa;AACTC,iBAAKxB,IAAIkB,MAAJ,CAAWC;AADP,SAAb,EAEG,UAACT,GAAD,EAAMU,KAAN,EAAgB;AACf,gBAAIV,GAAJ,EAAS;AACLT,oBAAIU,IAAJ,CAASD,GAAT;AACH;AACDT,gBAAIW,IAAJ,CAAS,EAAEC,SAAS,0BAAX,EAAT;AACH,SAPD;AAQH,KATD;;AAWA,WAAOf,GAAP;AACH,C","file":"skills.js","sourcesContent":["import mongoose from 'mongoose';\nimport { Router } from 'express';\nimport Skill from '../model/skill';\nimport bodyParser from 'body-parser';\nimport { authenticate } from '../middleware/authMiddleware';\n\n\nexport default ({ config, db }) => {\n    let api = Router();\n\n    api.post('/add', (req, res) => {\n        let newSkill= new Skill();\n        newSkill.name = req.body.name;\n        newSkill.coolness = req.body.coolness;\n        newSkill.skillLevel = req.body.skillLevel;\n        newSkill.src = req.body.src;\n        newSkill.flex = req.body.flex;\n\n        newSkill.save(err => {\n            if (err) {\n                res.send(err);\n            }\n            res.json({ message: 'Skill added sucessfully' });\n        });\n    });\n\n    api.get('/', (req, res) => {\n        Skill.find({}, (err, skills) => {\n            if (err) {\n                res.send(err);\n            }\n            res.json(skills);\n        });\n    });\n\n    api.get('/:id', (req, res) => {\n        Skill.findById(req.params.id, (err, skill) => {\n            if (err) {\n                res.send(err);\n            }\n            res.json(skill);\n        });\n    });\n\n    api.put('/:id', (req, res) => {\n        Skill.findById(req.params.id, (err, skill) => {\n            if (err) {\n                res.send(err);\n            }\n            skill.name = req.body.name;\n            skill.save(err => {\n                if (err) {\n                    res.send(err);\n                }\n                res.json({ message: \"Skill updated\" });\n            });\n        });\n    });\n\n    api.delete('/:id', (req, res) => {\n        Skill.remove({\n            _id: req.params.id\n        }, (err, skill) => {\n            if (err) {\n                res.send(err);\n            }\n            res.json({ message: \"SKill Succefully deleted\" })\n        });\n    });\n\n    return api;\n}\n"]}